{% extends 'dashboard/layout.html' %}

{% load url from future %}

{% load currency_filters %}
{% load sorting_tags %}
{% load i18n %}

{% block body_class %}jobs{% endblock %}
{% block title %}
    {% trans "Jobs management" %} | {{ block.super }}
{% endblock %}

{% block extrastyles %}
{{ block.super }}
<style type="text/css">
div.job {
    background: #eee;
    border: 1px solid #eee;
}

div.job:hover {
    background: #e1e1e1;
    border: 1px solid #d0d0d0;
}
.multi-zone-warning{
    font-size: 10px;
}
</style>
{% endblock extrastyles %}

{% block breadcrumbs %}
    <ul class="breadcrumb">
        <li>
            <a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
            <span class="divider">/</span>
        </li>
        <li class="active">{% trans "Jobs" %}<span class="divider">/</span></li>
        <li class="active">{{ staff_breadcrumb }}</li>
    </ul>
{% endblock %}

{% block header %}
    <div class="page-header">
        <h1>{% trans "Jobs management" %}</h1>
    </div>
{% endblock header %}

{% block dashboard_content %}
    <h1>List Jobs</h1>
    <div class="row-fluid">
        {% for order in orders %}
            <div class="job span2 well" style="background-color:#fff;">
                <a href="{% url 'project-detail' order.id %}"> {{ order.number }}</a>
                <p class="text-overflow">{{ order.lines.count }} items 
                <br />
                {% if order.has_multiple_zones %}
                <span class="label label-warning multi-zone-warning">Don't dispatch without all items</span>
                {% endif %}
                </p>
            </div>
        {% endfor %}
    </div>

    {% endblock dashboard_content %}

    {% block onbodyload %}
        oscar.dashboard.orders.initTable();
        oscar.dashboard.search.init();
    {% endblock onbodyload %}